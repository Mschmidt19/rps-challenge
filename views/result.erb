<!DOCTYPE HTML>
<html>
  <head>
    <title>Result</title>
    <link href="<%= url('/styles.css') %>" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
  </head>
  <body>
    <div class="column centered">
      <p class="centered subtitle white_text"><%= @game.player1.name %> chose <%= @game.player1.choice %></p>
      <div class="centered">
        <% if @game.player1.choice == "rock" %>
          <i class="result_icon brown_text fas fa-hand-rock"></i>
        <% elsif @game.player1.choice == "paper" %>
          <i class="result_icon white_text fas fa-hand-paper"></i>
        <% elsif @game.player1.choice == "scissors" %>
          <i class="result_icon blue_text fas fa-hand-scissors"></i>
        <% elsif @game.player1.choice == "spock" %>
          <i class="result_icon tan_text fas fa-hand-spock"></i>
        <% elsif @game.player1.choice == "lizard" %>
          <i class="result_icon purple_text fas fa-hand-lizard"></i>
        <% end %>
      </div>
    </div>
    <div class="column centered">
      <p class="centered subtitle white_text"><%= @game.player2.name %> chose <%= @game.player2.choice %></p>
      <div class="centered">
        <% if @game.player2.choice == "rock" %>
          <i class="result_icon brown_text fas fa-hand-rock"></i>
        <% elsif @game.player2.choice == "paper" %>
          <i class="result_icon white_text fas fa-hand-paper"></i>
        <% elsif @game.player2.choice == "scissors" %>
          <i class="result_icon blue_text fas fa-hand-scissors"></i>
        <% elsif @game.player2.choice == "spock" %>
          <i class="result_icon tan_text fas fa-hand-spock"></i>
        <% elsif @game.player2.choice == "lizard" %>
          <i class="result_icon purple_text fas fa-hand-lizard"></i>
        <% end %>
      </div>
    </div>
    <div class="margintop cantered" style="clear: both">
      <% if @game.tie_game? == false %>
        <% case @game.winner.choice when "rock" %>
          <% if @game.loser.choice == "scissors" %>
            <p class="subtitle tan_text centered">Rock smashes Scissors</p>
          <% elsif @game.loser.choice == "lizard" %>
            <p class="subtitle tan_text centered">Rock crushes Lizard</p>
          <% end %>
        <% when "paper" %>
          <% if @game.loser.choice == "rock" %>
            <p class="subtitle tan_text centered">Paper covers Rock</p>
          <% elsif @game.loser.choice == "spock" %>
            <p class="subtitle tan_text centered">Paper disproves Spock</p>
          <% end %>
        <% when "scissors" %>
          <% if @game.loser.choice == "paper" %>
            <p class="subtitle tan_text centered">Scissors cuts Paper</p>
          <% elsif @game.loser.choice == "lizard" %>
            <p class="subtitle tan_text centered">Scissors decapitates Lizard</p>
          <% end %>
        <% when "spock" %>
          <% if @game.loser.choice == "rock" %>
            <p class="subtitle tan_text centered">Spock vaporizes Rock</p>
          <% elsif @game.loser.choice == "scissors" %>
            <p class="subtitle tan_text centered">Spock bends Scissors</p>
          <% end %>
        <% when "lizard" %>
          <% if @game.loser.choice == "spock" %>
            <p class="subtitle tan_text centered">Lizard poisons Spock</p>
          <% elsif @game.loser.choice == "paper" %>
            <p class="subtitle tan_text centered">Lizard eats Paper</p>
          <% end %>
        <% end %>
      <% end %>
      <% if @game.tie_game? %>
        <p class="centered title white_text">It's a tie!</p>
      <% else %>
          <% if @game.winner == @game.player1 %>
            <p class="centered title green_text"><%= @game.player1.name %> Wins!</p>
          <% else %>
            <p class="centered title red_text"><%= @game.player2.name %> Wins!</p>
          <% end %>
      <% end %>
    </div>
    <div class="centered div2">
      <form action="/play_again" method="post">
        <% if @game.tie_game? %>
          <button class="white" type="submit">Rematch!</button>
        <% else %>
          <button class="white" type="submit">Play Again</button>
        <% end %>
      </form>
    </div>
  </body>
</html>
